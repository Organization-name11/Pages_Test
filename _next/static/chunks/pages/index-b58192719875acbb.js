(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2285)}])},984:function(e){"use strict";let t="Pages_Test";e.exports={output:"export",basePath:"/".concat(t),assetPrefix:"/".concat(t,"/"),images:{unoptimized:!0}}},2285:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(5893),l=n(7294);let a=n(984).basePath||"";function i(){let[e,t]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[o,s]=(0,l.useState)("25"),[u,d]=(0,l.useState)(""),[c,h]=(0,l.useState)(null),[p,g]=(0,l.useState)("");return(0,r.jsxs)("div",{style:{padding:"20px",fontFamily:"system-ui, sans-serif",lineHeight:1.6},children:[(0,r.jsx)("h1",{children:"Spatial ID（ZFXY）計算：f, x, y"}),(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),g(""),h(null);try{if(!e||!n){g("lat と lon は必須です");return}let t=parseFloat(e),r=parseFloat(n),l=parseInt(o||"25",10),a=""!==u?parseFloat(u):void 0;if(!Number.isFinite(t)||!Number.isFinite(r)){g("lat と lon は数値である必要があります");return}if(!Number.isFinite(l)){g("zoom は数値である必要があります");return}if(""!==u&&!Number.isFinite(a)){g("alt が指定されている場合は数値である必要があります");return}if(t<-85.0511287798||t>85.0511287798){g("lat の範囲は ".concat(-85.0511287798,"〜").concat(85.0511287798," です"));return}if(r<-180||r>180){g("lon の範囲は \xb1180 です");return}if(l<0||l>35){g("zoom は 0〜35 の範囲で指定してください");return}let i=Math.floor((r+180)/360*Math.pow(2,l)),s=function(e,t){let n=e*Math.PI/180;return Math.floor((1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*Math.pow(2,t))}(t,l),d=null==a||Number.isNaN(a)?0:Math.floor(a/(1*Math.pow(2,25-l)));h({z:l,f:d,x:i,y:s})}catch(e){console.error("[client calc] error:",e),g("計算エラー: "+((null==e?void 0:e.message)||String(e)))}},style:{display:"grid",gap:10,maxWidth:500},children:[(0,r.jsxs)("label",{children:["緯度 (lat)",(0,r.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"例: 35.68",required:!0})]}),(0,r.jsxs)("label",{children:["経度 (lon)",(0,r.jsx)("input",{value:n,onChange:e=>i(e.target.value),placeholder:"例: 139.76",required:!0})]}),(0,r.jsxs)("label",{children:["ズーム (zoom)",(0,r.jsx)("input",{value:o,onChange:e=>s(e.target.value),placeholder:"例: 25"})]}),(0,r.jsxs)("label",{children:["標高 (alt, m)",(0,r.jsx)("input",{value:u,onChange:e=>d(e.target.value),placeholder:"例: 10（任意）"})]}),(0,r.jsx)("button",{type:"submit",style:{padding:"8px 14px"},children:"計算"})]}),p&&(0,r.jsx)("p",{style:{color:"red",marginTop:16},children:p}),c&&(0,r.jsxs)("div",{style:{marginTop:16,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fafafa",maxWidth:560,fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace"},children:[(0,r.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"計算結果（ZFXY）"}),(0,r.jsxs)("div",{children:["z: ",(0,r.jsx)("strong",{children:c.z})]}),(0,r.jsxs)("div",{children:["f: ",(0,r.jsx)("strong",{children:c.f})]}),(0,r.jsxs)("div",{children:["x: ",(0,r.jsx)("strong",{children:c.x})]}),(0,r.jsxs)("div",{children:["y: ",(0,r.jsx)("strong",{children:c.y})]})]}),(0,r.jsx)("div",{style:{marginTop:18},children:(0,r.jsx)("img",{alt:"logo",src:"".concat(a,"/logo.svg"),width:120,height:36,onError:e=>{var t;e.currentTarget.style.display="none";let n=document.createElement("div");n.textContent="[logo 読み込み失敗]",n.style.color="#888",null===(t=e.currentTarget.parentElement)||void 0===t||t.appendChild(n)}})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);