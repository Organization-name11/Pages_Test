(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2285)}])},2285:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(5893),l=n(7294);function i(){let[e,t]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[a,o]=(0,l.useState)("25"),[s,d]=(0,l.useState)(""),[u,h]=(0,l.useState)(null),[c,p]=(0,l.useState)("");return(0,r.jsxs)("main",{style:{padding:20,fontFamily:"system-ui, sans-serif",lineHeight:1.6},children:[(0,r.jsx)("h1",{children:"Spatial ID（ZFXY）計算：f / x / y"}),c&&(0,r.jsxs)("div",{style:{color:"white",background:"#d33",padding:8,borderRadius:6,maxWidth:560},children:["エラー: ",c]}),u&&(0,r.jsxs)("div",{style:{marginTop:12,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fafafa",maxWidth:560,fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace"},children:[(0,r.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"計算結果"}),(0,r.jsxs)("div",{children:["z: ",(0,r.jsx)("strong",{children:u.z})]}),(0,r.jsxs)("div",{children:["f: ",(0,r.jsx)("strong",{children:u.f})]}),(0,r.jsxs)("div",{children:["x: ",(0,r.jsx)("strong",{children:u.x})]}),(0,r.jsxs)("div",{children:["y: ",(0,r.jsx)("strong",{children:u.y})]})]}),(0,r.jsxs)("section",{style:{marginTop:16,display:"grid",gap:10,maxWidth:500},children:[(0,r.jsxs)("label",{children:["緯度 (lat)",(0,r.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"例: 35.68"})]}),(0,r.jsxs)("label",{children:["経度 (lon)",(0,r.jsx)("input",{value:n,onChange:e=>i(e.target.value),placeholder:"例: 139.76"})]}),(0,r.jsxs)("label",{children:["ズーム (zoom)",(0,r.jsx)("input",{value:a,onChange:e=>o(e.target.value),placeholder:"例: 25"})]}),(0,r.jsxs)("label",{children:["標高 (alt, m)",(0,r.jsx)("input",{value:s,onChange:e=>d(e.target.value),placeholder:"例: 10（任意）"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,r.jsx)("button",{type:"button",onClick:()=>{try{p("");let t=parseFloat(e),r=parseFloat(n),l=parseInt(a||"25",10),i=""!==s?parseFloat(s):void 0;if(!Number.isFinite(t)||!Number.isFinite(r))throw Error("lat / lon は数値で入力してください");if(!Number.isFinite(l))throw Error("zoom は数値で入力してください");if(""!==s&&!Number.isFinite(i))throw Error("alt が指定されている場合は数値で入力してください");if(t<-85.0511287798||t>85.0511287798)throw Error("lat は ".concat(-85.0511287798,"〜").concat(85.0511287798," の範囲で入力してください"));if(r<-180||r>180)throw Error("lon は \xb1180 の範囲で入力してください");if(l<0||l>35)throw Error("zoom は 0〜35 の範囲で入力してください");let o=Math.floor((r+180)/360*Math.pow(2,l)),d=function(e,t){let n=e*Math.PI/180;return Math.floor((1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*Math.pow(2,t))}(t,l),u=null==i||Number.isNaN(i)?0:Math.floor(i/(1*Math.pow(2,25-l)));h({z:l,f:u,x:o,y:d})}catch(e){console.error("[calc error]",e),h(null),p((null==e?void 0:e.message)||String(e))}},style:{padding:"8px 14px"},children:"計算"}),(0,r.jsx)("button",{type:"button",onClick:()=>{p(""),h(null)},style:{padding:"8px 14px",background:"#eee"},children:"結果クリア（入力は保持）"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);