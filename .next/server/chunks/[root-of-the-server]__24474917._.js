module.exports=[1927,e=>{"use strict";var t,r,n,a,o,i,s,l,u,d,c,p,g=((t=g||{}).handleRequest="BaseServer.handleRequest",t.run="BaseServer.run",t.pipe="BaseServer.pipe",t.getStaticHTML="BaseServer.getStaticHTML",t.render="BaseServer.render",t.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",t.renderToResponse="BaseServer.renderToResponse",t.renderToHTML="BaseServer.renderToHTML",t.renderError="BaseServer.renderError",t.renderErrorToResponse="BaseServer.renderErrorToResponse",t.renderErrorToHTML="BaseServer.renderErrorToHTML",t.render404="BaseServer.render404",t),f=((r=f||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",r.loadComponents="LoadComponents.loadComponents",r),v=((n=v||{}).getRequestHandler="NextServer.getRequestHandler",n.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",n.getServer="NextServer.getServer",n.getServerRequestHandler="NextServer.getServerRequestHandler",n.createServer="createServer.createServer",n),h=((a=h||{}).compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a),y=((o=y||{}).startServer="startServer.startServer",o),b=((i=b||{}).getServerSideProps="Render.getServerSideProps",i.getStaticProps="Render.getStaticProps",i.renderToString="Render.renderToString",i.renderDocument="Render.renderDocument",i.createBodyResult="Render.createBodyResult",i),S=((s=S||{}).renderToString="AppRender.renderToString",s.renderToReadableStream="AppRender.renderToReadableStream",s.getBodyResult="AppRender.getBodyResult",s.fetch="AppRender.fetch",s),_=((l=_||{}).executeRoute="Router.executeRoute",l),x=((u=x||{}).runHandler="Node.runHandler",u),m=((d=m||{}).runHandler="AppRouteRouteHandlers.runHandler",d),N=((c=N||{}).generateMetadata="ResolveMetadata.generateMetadata",c.generateViewport="ResolveMetadata.generateViewport",c),O=((p=O||{}).execute="Middleware.execute",p);let P=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),T=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);e.s(["BaseServerSpan",()=>g,"LogSpanAllowList",0,T,"NextVanillaSpanAllowlist",0,P,"NodeSpan",()=>x])},1370,(e,t,r)=>{(()=>{"use strict";let r,n,a,o,i;var s,l,u,d,c,p,g,f,v,h,y,b,S,_,x,m,N={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),a=r(172),o=r(930),i="context",s=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(i)||s}disable(){this._getContextManager().disable(),(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),a=r(912),o=r(957),i=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,i.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:o.DiagLogLevel.INFO})=>{var n,s,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,i.getGlobal)("diag"),d=(0,a.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:o.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),d.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,i.registerGlobal)("diag",d,t,!0)},t.disable=()=>{(0,i.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),a=r(172),o=r(930),i="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(i)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),a=r(874),o=r(194),i=r(277),s=r(369),l=r(930),u="propagation",d=new a.NoopTextMapPropagator;class c{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=i.getBaggage,this.getActiveBaggage=i.getActiveBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||d}}t.PropagationAPI=c},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),a=r(846),o=r(139),i=r(607),s=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getActiveSpan=i.getActiveSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,s.DiagAPI.instance()),this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),a=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(a)||void 0}t.getBaggage=o,t.getActiveBaggage=function(){return o(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(a,t)},t.deleteBaggage=function(e){return e.deleteValue(a)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),a=r(993),o=r(830),i=n.DiagAPI.instance();t.createBaggage=function(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(i.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let a=new r(t._currentContext);return a._currentContext.set(e,n),a},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function a(e,t,r){let a=(0,n.getGlobal)("diag");if(a)return r.unshift(t),a[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),a=r(521),o=r(130),i=a.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${i}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var o;let i=l[s]=null!=(o=l[s])?o:{version:a.VERSION};if(!n&&i[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(i.version!==a.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${a.VERSION}`);return r.error(t.stack||t.message),!1}return i[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=l[s])?void 0:t.version;if(n&&(0,o.isCompatible)(n))return null==(r=l[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);let r=l[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),a=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function o(e){let t=new Set([e]),r=new Set,n=e.match(a);if(!n)return()=>!1;let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(a);if(!n)return i(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||o.major!==s.major)return i(e);if(0===o.major)return o.minor===s.minor&&o.patch<=s.patch?(t.add(e),!0):i(e);return o.minor<=s.minor?(t.add(e),!0):i(e)}}t._makeCompatibilityCheck=o,t.isCompatible=o(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class a extends n{add(e,t){}}t.NoopCounterMetric=a;class o extends n{add(e,t){}}t.NoopUpDownCounterMetric=o;class i extends n{record(e,t){}}t.NoopHistogramMetric=i;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class l extends s{}t.NoopObservableCounterMetric=l;class u extends s{}t.NoopObservableGaugeMetric=u;class d extends s{}t.NoopObservableUpDownCounterMetric=d,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new a,t.NOOP_HISTOGRAM_METRIC=new i,t.NOOP_UP_DOWN_COUNTER_METRIC=new o,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new d,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class a{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=a,t.NOOP_METER_PROVIDER=new a},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),a=r(607),o=r(403),i=r(139),s=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var n;if(null==t?void 0:t.root)return new o.NonRecordingSpan;let l=r&&(0,a.getSpanContext)(r);return"object"==typeof(n=l)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,i.isSpanContextValid)(l)?new o.NonRecordingSpan(l):new o.NonRecordingSpan}startActiveSpan(e,t,r,n){let o,i,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(o=t,l=r):(o=t,i=r,l=n);let u=null!=i?i:s.active(),d=this.startSpan(e,o,u),c=(0,a.setSpan)(u,d);return s.with(c,l,void 0,d)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),a=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var a;return null!=(a=this.getDelegateTracer(e,t,r))?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:a}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),a=r(403),o=r(491),i=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(i)||void 0}function l(e,t){return e.setValue(i,t)}t.getSpan=s,t.getActiveSpan=function(){return s(o.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(i)},t.setSpanContext=function(e,t){return l(e,new a.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class a{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),a=r.indexOf("=");if(-1!==a){let o=r.slice(0,a),i=r.slice(a+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(i)&&e.set(o,i)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new a;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=a},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,o=RegExp(`^(?:${n}|${a})$`),i=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return o.test(e)},t.validateValue=function(e){return i.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),a=r(403),o=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function s(e){return o.test(e)&&e!==n.INVALID_TRACEID}function l(e){return i.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=l,t.isSpanContextValid=function(e){return s(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new a.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},O={};function P(e){var t=O[e];if(void 0!==t)return t.exports;var r=O[e]={exports:{}},n=!0;try{N[e].call(r.exports,r,r.exports,P),n=!1}finally{n&&delete O[e]}return r.exports}P.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.trace=T.propagation=T.metrics=T.diag=T.context=T.INVALID_SPAN_CONTEXT=T.INVALID_TRACEID=T.INVALID_SPANID=T.isValidSpanId=T.isValidTraceId=T.isSpanContextValid=T.createTraceState=T.TraceFlags=T.SpanStatusCode=T.SpanKind=T.SamplingDecision=T.ProxyTracerProvider=T.ProxyTracer=T.defaultTextMapSetter=T.defaultTextMapGetter=T.ValueType=T.createNoopMeter=T.DiagLogLevel=T.DiagConsoleLogger=T.ROOT_CONTEXT=T.createContextKey=T.baggageEntryMetadataFromString=void 0,s=P(369),Object.defineProperty(T,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),l=P(780),Object.defineProperty(T,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(T,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),u=P(972),Object.defineProperty(T,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),d=P(957),Object.defineProperty(T,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}}),c=P(102),Object.defineProperty(T,"createNoopMeter",{enumerable:!0,get:function(){return c.createNoopMeter}}),p=P(901),Object.defineProperty(T,"ValueType",{enumerable:!0,get:function(){return p.ValueType}}),g=P(194),Object.defineProperty(T,"defaultTextMapGetter",{enumerable:!0,get:function(){return g.defaultTextMapGetter}}),Object.defineProperty(T,"defaultTextMapSetter",{enumerable:!0,get:function(){return g.defaultTextMapSetter}}),f=P(125),Object.defineProperty(T,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}}),v=P(846),Object.defineProperty(T,"ProxyTracerProvider",{enumerable:!0,get:function(){return v.ProxyTracerProvider}}),h=P(996),Object.defineProperty(T,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}}),y=P(357),Object.defineProperty(T,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),b=P(847),Object.defineProperty(T,"SpanStatusCode",{enumerable:!0,get:function(){return b.SpanStatusCode}}),S=P(475),Object.defineProperty(T,"TraceFlags",{enumerable:!0,get:function(){return S.TraceFlags}}),_=P(98),Object.defineProperty(T,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}}),x=P(139),Object.defineProperty(T,"isSpanContextValid",{enumerable:!0,get:function(){return x.isSpanContextValid}}),Object.defineProperty(T,"isValidTraceId",{enumerable:!0,get:function(){return x.isValidTraceId}}),Object.defineProperty(T,"isValidSpanId",{enumerable:!0,get:function(){return x.isValidSpanId}}),m=P(476),Object.defineProperty(T,"INVALID_SPANID",{enumerable:!0,get:function(){return m.INVALID_SPANID}}),Object.defineProperty(T,"INVALID_TRACEID",{enumerable:!0,get:function(){return m.INVALID_TRACEID}}),Object.defineProperty(T,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return m.INVALID_SPAN_CONTEXT}}),r=P(67),Object.defineProperty(T,"context",{enumerable:!0,get:function(){return r.context}}),n=P(506),Object.defineProperty(T,"diag",{enumerable:!0,get:function(){return n.diag}}),a=P(886),Object.defineProperty(T,"metrics",{enumerable:!0,get:function(){return a.metrics}}),o=P(939),Object.defineProperty(T,"propagation",{enumerable:!0,get:function(){return o.propagation}}),i=P(845),Object.defineProperty(T,"trace",{enumerable:!0,get:function(){return i.trace}}),T.default={context:r.context,diag:n.diag,metrics:a.metrics,propagation:o.propagation,trace:i.trace},t.exports=T})()},7031,e=>{"use strict";let t,r;var n=e.i(1927);let a=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(406)}catch(r){t=e.r(1370)}let{context:o,propagation:i,trace:s,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:d}=t;class c extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let p=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof c&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},g=new Map,f=t.createContextKey("next.rootSpanId"),v=0,h={set(e,t,r){e.push({key:t,value:r})}},y=(r=new class e{getTracerInstance(){return s.getTracer("next.js","0.0.1")}getContext(){return o}getTracePropagationData(){let e=o.active(),t=[];return i.inject(e,t,h),t}getActiveScopeSpan(){return s.getSpan(null==o?void 0:o.active())}withPropagatedContext(e,t,r){let n=o.active();if(s.getSpanContext(n))return t();let a=i.extract(n,e,r);return o.with(a,t)}trace(...e){let[t,r,i]=e,{fn:s,options:l}="function"==typeof r?{fn:r,options:{}}:{fn:i,options:{...r}},u=l.spanName??t;if(!n.NextVanillaSpanAllowlist.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||l.hideSpan)return s();let c=this.getSpanContext((null==l?void 0:l.parentSpan)??this.getActiveScopeSpan());c||(c=(null==o?void 0:o.active())??d);let h=c.getValue(f),y="number"!=typeof h||!g.has(h),b=v++;return l.attributes={"next.span_name":u,"next.span_type":t,...l.attributes},o.with(c.setValue(f,b),()=>this.getTracerInstance().startActiveSpan(u,l,e=>{let r;a&&t&&n.LogSpanAllowList.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let o=!1,i=()=>{!o&&(o=!0,g.delete(b),r&&performance.measure(`${a}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(y&&g.set(b,new Map(Object.entries(l.attributes??{}))),s.length>1)try{return s(e,t=>p(e,t))}catch(t){throw p(e,t),t}finally{i()}try{let t=s(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw p(e,t),t}).finally(i);return e.end(),i(),t}catch(t){throw p(e,t),i(),t}}))}wrap(...e){let t=this,[r,a,i]=3===e.length?e:[e[0],{},e[1]];return n.NextVanillaSpanAllowlist.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=a;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let n=arguments.length-1,s=arguments[n];if("function"!=typeof s)return t.trace(r,e,()=>i.apply(this,arguments));{let a=t.getContext().bind(o.active(),s);return t.trace(r,e,(e,t)=>(arguments[n]=function(e){return null==t||t(e),a.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?s.setSpan(o.active(),e):void 0}getRootSpanAttributes(){let e=o.active().getValue(f);return g.get(e)}setRootSpanAttribute(e,t){let r=o.active().getValue(f),n=g.get(r);n&&!n.has(e)&&n.set(e,t)}},()=>r);e.s(["SpanKind",()=>u,"getTracer",()=>y],7031)},8916,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,n,a,o={};o.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},o=t.split(n),i=(r||{}).decode||e,s=0;s<o.length;s++){var l=o[s],u=l.indexOf("=");if(!(u<0)){var d=l.substr(0,u).trim(),c=l.substr(++u,l.length).trim();'"'==c[0]&&(c=c.slice(1,-1)),void 0==a[d]&&(a[d]=function(e,t){try{return t(e)}catch(t){return e}}(c,i))}}return a},o.serialize=function(e,t,n){var o=n||{},i=o.encode||r;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var s=i(t);if(s&&!a.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(o.domain){if(!a.test(o.domain))throw TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!a.test(o.path))throw TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=o})()},6747,e=>{"use strict";class t{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class r extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new r}}class n extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(r,n,a){if("symbol"==typeof n)return t.get(r,n,a);let o=n.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===o);if(void 0!==i)return t.get(r,i,a)},set(r,n,a,o){if("symbol"==typeof n)return t.set(r,n,a,o);let i=n.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return t.set(r,s??n,a,o)},has(r,n){if("symbol"==typeof n)return t.has(r,n);let a=n.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0!==o&&t.has(r,o)},deleteProperty(r,n){if("symbol"==typeof n)return t.deleteProperty(r,n);let a=n.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0===o||t.deleteProperty(r,o)}})}static seal(e){return new Proxy(e,{get(e,n,a){switch(n){case"append":case"delete":case"set":return r.callable;default:return t.get(e,n,a)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new n(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}let a={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function o(e,t,r){e.statusCode=t,e.statusMessage=r,e.end(r)}a.reactServerComponents,a.actionBrowser,a.reactServerComponents,a.actionBrowser,a.instrument,a.middleware,a.apiNode,a.apiEdge,a.serverSideRendering,a.appPagesBrowser,a.reactServerComponents,a.actionBrowser,a.serverSideRendering,a.appPagesBrowser,a.shared,a.instrument,a.middleware,a.reactServerComponents,a.serverSideRendering,a.appPagesBrowser,a.actionBrowser,e.i(7031),e.i(1927),Symbol("__next_preview_data"),Symbol("__prerender_bypass"),e.s(["sendError",()=>o],6747)},9245,e=>{"use strict";var t,r=((t={}).PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE",t.IMAGE="IMAGE",t);e.s(["RouteKind",()=>r])},6907,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/pages-api-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/pages-api-turbo.runtime.prod.js"))},4898,(e,t,r)=>{t.exports=e.r(6907)},2950,e=>{"use strict";e.s(["hoist",()=>function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}])},384,e=>{"use strict";function t(e){return"z"in e&&"f"in e&&"x"in e&&"y"in e}let r={f:0,x:0,y:0,z:0},n=180/Math.PI;function a(e,t=1){let{f:r,x:n,y:o,z:i}=e;if(t<=0)throw Error("steps must be greater than 0");if(t>i)throw Error(`Getting parent tile of ${JSON.stringify(e)}, ${t} steps is not possible because it would go beyond the root tile (z=0)`);return{f:r>>t,x:n>>t,y:o>>t,z:i-t}}function o(e=r){let{f:t,x:n,y:a,z:i}=e;return[{f:2*t,x:2*n,y:2*a,z:i+1},{f:2*t,x:2*n+1,y:2*a,z:i+1},{f:2*t,x:2*n,y:2*a+1,z:i+1},{f:2*t,x:2*n+1,y:2*a+1,z:i+1},{f:2*t+1,x:2*n,y:2*a,z:i+1},{f:2*t+1,x:2*n+1,y:2*a,z:i+1},{f:2*t+1,x:2*n,y:2*a+1,z:i+1},{f:2*t+1,x:2*n+1,y:2*a+1,z:i+1}]}function i(e=r){let{f:t,x:n,y:a,z:o}=e;return[g({f:t,x:n,y:a,z:o}),g({f:t,x:n+1,y:a,z:o}),g({f:t,x:n,y:a+1,z:o}),g({f:t,x:n+1,y:a+1,z:o}),g({f:t,x:n-1,y:a,z:o}),g({f:t,x:n,y:a-1,z:o}),g({f:t,x:n-1,y:a-1,z:o}),g({f:t,x:n+1,y:a-1,z:o}),g({f:t,x:n-1,y:a+1,z:o})]}function s(e){let t=e.match(/^\/?(\d+)\/(?:(\d+)\/)?(\d+)\/(\d+)$/);if(!t)return;let r=t[1]??"",n=t[2]??"0",a=t[3]??"",o=t[4]??"";if(""===r||""===a||""===o)return;let i=parseInt(r,10),s=parseInt(n,10),l=parseInt(a,10),u=parseInt(o,10);if(![i,s,l,u].some(e=>Number.isNaN(e)))return{z:i,f:s,x:l,y:u}}function l(e){let t=Math.PI-2*Math.PI*e.y/Math.pow(2,e.z);return{lng:e.x/Math.pow(2,e.z)*360-180,lat:n*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}}function u(e){let t;return{...(t=2*e.x+1,l({x:t,y:2*e.y+1,z:e.z+1,f:0})),alt:c(e)+0x2000000/2**(e.z+1)}}function d(e){return[l(e),l({...e,y:e.y+1,x:e.x+1})]}function c(e){return 0x2000000*e.f/2**e.z}function p(e){let t=void 0!==e.alt?e.alt:0;if(t<=-0x2000000||t>=0x2000000)throw Error("ZFXY only supports altitude between -2^25 and +2^25.");let r=Math.floor(2**e.zoom*t/0x2000000),n=Math.PI/180,a=Math.sin(e.lat*n),o=2**e.zoom,i=o*(e.lng/360+.5),s=o*(.5-.25*Math.log((1+a)/(1-a))/Math.PI);return(i%=o)<0&&(i+=o),{f:r,x:Math.floor(i),y:Math.floor(s),z:e.zoom}}function g(e){let{z:t,f:r,x:n,y:a}=e;return{z:t,f:Math.max(Math.min(r,2**t),-(2**t)),x:n<0?n+2**t:n%2**t,y:a<0?a+2**t:a%2**t}}e.s(["calculateZFXY",()=>p,"getBBox",()=>d,"getCenterLngLatAlt",()=>u,"getChildren",()=>o,"getFloor",()=>c,"getParent",()=>a,"getSurrounding",()=>i,"isZFXYTile",()=>t,"parseZFXYString",()=>s,"zfxyWraparound",()=>g])},5527,e=>{"use strict";var t=e.i(384);function r(e){let r,n=!1;"-"===e[0]&&(n=!0,e=e.substring(1));let a=(0,t.getChildren)();for(let o of e){let i=parseInt(o,10)-1;if(!Number.isFinite(i)||i<0||i>=a.length)throw Error(`Invalid tilehash character '${o}' in '${n?"-":""}${e}'`);let s=a.at(i);if(!s)throw Error(`Invalid tilehash character '${o}' in '${n?"-":""}${e}'`);r=s,a=(0,t.getChildren)(r)}if(!r)throw Error(`Invalid tilehash '${n?"-":""}${e}'`);return n?{...r,f:-r.f}:r}function n(e){let{f:r,x:n,y:a,z:o}=e,i=r,s="";for(;o>0;){let e={f:Math.abs(r),x:n,y:a,z:o},i=(0,t.getParent)(e),l=(0,t.getChildren)(i).findIndex(e=>e.f===Math.abs(r)&&e.x===n&&e.y===a&&e.z===o);if(l<0)throw Error(`Could not determine position in parent for tile ${JSON.stringify(e)}`);s=(l+1).toString()+s,r=i.f,n=i.x,a=i.y,o=i.z}return(i<0?"-":"")+s}e.s(["generateTilehash",()=>n,"parseZFXYTilehash",()=>r])},2295,e=>e.a(async(t,r)=>{try{let t=await e.y("@turf/bbox");e.n(t),r()}catch(e){r(e)}},!0),9373,e=>e.a(async(t,r)=>{try{let t=await e.y("@turf/boolean-intersects");e.n(t),r()}catch(e){r(e)}},!0),8081,e=>{"use strict";let t=Math.PI/180;function r(e,t){if("number"!=typeof e||Number.isNaN(e))throw Error(`Expected number for '${t}', got ${String(e)}`);return e}function n(e){return[r(e[0],"bbox[0] (minX)"),r(e[1],"bbox[1] (minY)"),r(e[2],"bbox[2] (maxX)"),r(e[3],"bbox[3] (maxY)")]}function a(e,t){let[r,a,i,s]=n(e),l=o(r,a,32),u=o(i,s,32),d=[l[0],l[1],u[0],u[1]],c=Math.min(function(e){let[t,r,a,o]=n(e);for(let e=0;e<28;e++){let n=1<<32-(e+1);if((t&n)!=(a&n)||(r&n)!=(o&n))return e}return 28}(d),void 0!==t?t:28);return 0===c?[0,0,0]:[d[0]>>>32-c,d[1]>>>32-c,c]}function o(e,r,n){var a,o,i;let s,l,u,d,c=(a=e,o=r,i=n,s=Math.sin(o*t),u=(l=Math.pow(2,i))*(a/360+.5),d=l*(.5-.25*Math.log((1+s)/(1-s))/Math.PI),(u%=l)<0&&(u+=l),[u,d,i]);return c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c}e.s(["bboxToTile",()=>a,"pointToTile",()=>o])},6117,e=>e.a(async(t,r)=>{try{var n=e.i(384),a=e.i(5527),o=e.i(2295),i=e.i(9373),s=e.i(8081),l=t([o,i]);function u(e,t){if("number"!=typeof e||Number.isNaN(e))throw Error(`Expected number for '${t}', got ${String(e)}`);return e}[o,i]=l.then?(await l)():l;class d{center;alt;zoom;zfxy;id;zfxyStr;tilehash;constructor(e,t){if("string"==typeof e){const t=(0,n.parseZFXYString)(e)||(0,a.parseZFXYTilehash)(e);if(t)this.zfxy=t,this._regenerateAttributesFromZFXY();else throw Error(`parse ZFXY failed with input: ${e}`);return}if((0,n.isZFXYTile)(e)){this.zfxy=e,this._regenerateAttributesFromZFXY();return}this.zfxy=(0,n.calculateZFXY)({...e,zoom:void 0!==t?t:25});this._regenerateAttributesFromZFXY()}up(e=1){return this.move({f:e})}down(e=1){return this.move({f:-e})}north(e=1){return this.move({y:e})}south(e=1){return this.move({y:-e})}east(e=1){return this.move({x:e})}west(e=1){return this.move({x:-e})}move(e){let t=new d(this.zfxy),r=u(t.zfxy.z,"zfxy.z"),a=u(t.zfxy.f,"zfxy.f")+(e.f??0),o=u(t.zfxy.x,"zfxy.x")+(e.x??0),i=u(t.zfxy.y,"zfxy.y")+(e.y??0);return t.zfxy=(0,n.zfxyWraparound)({z:r,f:a,x:o,y:i}),t._regenerateAttributesFromZFXY(),t}parent(e){let t=void 0===e?1:u(this.zfxy.z,"zfxy.z")-u(e,"atZoom");return new d((0,n.getParent)(this.zfxy,t))}children(){return(0,n.getChildren)(this.zfxy).map(e=>new d(e))}surroundings(){let e=(0,n.getSurrounding)(this.zfxy).filter(({z:e,f:t,x:r,y:n})=>`/${e}/${t}/${r}/${n}`!==this.zfxyStr).map(e=>new d(e)),t=(0,n.getSurrounding)(this.up().zfxy).map(e=>new d(e)),r=(0,n.getSurrounding)(this.down().zfxy).map(e=>new d(e));return[...e,...t,...r]}toPolygon(){let e=(0,n.getBBox)(this.zfxy),[t,r,a,o]=function(e){if(Array.isArray(e)&&4===e.length&&e.every(e=>"number"==typeof e))return e;if(Array.isArray(e)&&2===e.length){let t=e[0],r=e[1],n="number"==typeof t?.lng?t.lng:Array.isArray(t)?t[0]:void 0,a="number"==typeof t?.lat?t.lat:Array.isArray(t)?t[1]:void 0,o="number"==typeof r?.lng?r.lng:Array.isArray(r)?r[0]:void 0,i="number"==typeof r?.lat?r.lat:Array.isArray(r)?r[1]:void 0;return[u(n,"bbox.minX"),u(a,"bbox.minY"),u(o,"bbox.maxX"),u(i,"bbox.maxY")]}throw Error("Unsupported BBox format returned by getBBox()")}(e);return{type:"Polygon",coordinates:[[[t,r],[a,r],[a,o],[t,o],[t,r]]]}}intersects(e){let t=this.toPolygon();return(0,i.default)(t,e)}intersectingNeighbors(e){let t=(0,o.default)(e),r=(0,s.bboxToTile)(t),n=u(r[0],"repTile.x"),a=u(r[1],"repTile.y"),i=u(this.zfxy.z,"zfxy.z"),l="number"==typeof r[2]?r[2]:i;return new d({z:l,f:u(this.zfxy.f,"zfxy.f"),x:n,y:a}).surroundings().filter(t=>t.intersects(e))}static fromCenter(e,t=25){let r=u(t,"zoom");return new d(e,r)}static fromPoint(e,t,r,n=25){let a=u(e,"lng"),o=u(t,"lat"),i=u(n,"z"),l=u(r,"f"),c=(0,s.pointToTile)(a,o,i),p=u(c[0],"tile.x"),g=u(c[1],"tile.y");return new d({z:i,f:l,x:p,y:g})}_regenerateAttributesFromZFXY(){if(!this.zfxy)throw Error("zfxy is not set");let e=u(this.zfxy.z,"zfxy.z"),t=u(this.zfxy.f,"zfxy.f"),r=u(this.zfxy.x,"zfxy.x"),o=u(this.zfxy.y,"zfxy.y");this.zoom=e,this.zfxyStr=`/${e}/${t}/${r}/${o}`,this.tilehash=(0,a.generateTilehash)({z:e,f:t,x:r,y:o}),this.id=this.tilehash;let i=(0,n.getCenterLngLatAlt)({z:e,f:t,x:r,y:o});this.center=i,this.alt=u(i.alt,"center.alt")}}e.s(["Space",()=>d]),r()}catch(e){r(e)}},!1),8773,e=>e.a(async(t,r)=>{try{var n=e.i(6117),a=t([n]);function o(e){if(void 0!==e)return Array.isArray(e)?e[0]:e}function i(e){e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","GET, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Content-Type")}function s(e,t){if("OPTIONS"===e.method)return i(t),t.status(204).end();if("GET"!==e.method)return i(t),t.setHeader("Allow","GET, OPTIONS"),t.status(405).json({error:"Method Not Allowed"});try{i(t);let r=o(e.query.lat),a=o(e.query.lon),s=o(e.query.zoom)??"25",l=o(e.query.alt);if(!r||!a)return t.status(400).json({error:"lat と lon は必須です"});let u=parseFloat(r),d=parseFloat(a),c=parseInt(s,10),p=void 0!==l?parseFloat(l):void 0;if(!Number.isFinite(u)||!Number.isFinite(d))return t.status(400).json({error:"lat と lon は数値である必要があります"});if(!Number.isFinite(c))return t.status(400).json({error:"zoom は数値である必要があります"});if(void 0!==l&&!Number.isFinite(p))return t.status(400).json({error:"alt が指定されている場合は数値である必要があります"});if(u<-85.0511287798||u>85.0511287798)return t.status(400).json({error:"lat の範囲は ±85.0511287798"});if(d<-180||d>180)return t.status(400).json({error:"lon の範囲は ±180"});if(c<0||c>35)return t.status(400).json({error:"zoom は 0〜35"});let g=new n.Space(void 0===p?{lng:d,lat:u}:{lng:d,lat:u,alt:p},c);return t.status(200).json({result:{zfxyStr:g.zfxyStr,tilehash:g.tilehash,zfxy:g.zfxy,zoom:g.zoom,center:g.center,alt:g.alt}})}catch(e){return console.error("[api/spatial-id] error:",e),i(t),t.status(500).json({error:String(e)})}}[n]=a.then?(await a)():a,e.s(["default",()=>s]),r()}catch(e){r(e)}},!1),6432,e=>{"use strict";let t=Symbol.for("NextInternalRequestMeta");function r(e,r,n){let a=e[t]||{};return a[r]=n,e[t]=a,a}e.s(["addRequestMeta",()=>r])},4963,e=>e.a(async(t,r)=>{try{var n=e.i(6747),a=e.i(9245),o=e.i(4898),i=e.i(2950),s=e.i(8773),l=e.i(7031),u=e.i(1927),d=e.i(6432),c=t([s]);[s]=c.then?(await c)():c;let g=(0,i.hoist)(s,"default"),f=(0,i.hoist)(s,"config"),v=new o.PagesAPIRouteModule({definition:{kind:a.RouteKind.PAGES_API,page:"/api/spatial-id",pathname:"/api/spatial-id",bundlePath:"",filename:""},userland:s,distDir:".next",relativeProjectDir:""});async function p(e,t,r){v.isDev&&(0,d.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let a="/api/spatial-id";a=a.replace(/\/index$/,"")||"/";let o=await v.prepare(e,t,{srcPage:a});if(!o){t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve());return}let{query:i,params:s,prerenderManifest:c,routerServerContext:p}=o;try{let r=e.method||"GET",n=(0,l.getTracer)(),o=n.getActiveScopeSpan(),d=v.instrumentationOnRequestError.bind(v),g=async o=>v.render(e,t,{query:{...i,...s},params:s,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:c.preview,propagateError:!1,dev:v.isDev,page:"/api/spatial-id",internalRevalidate:null==p?void 0:p.revalidate,onError:(...t)=>d(e,...t)}).finally(()=>{if(!o)return;o.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let e=n.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=e.get("next.route");if(i){let e=`${r} ${i}`;o.setAttributes({"next.route":i,"http.route":i,"next.span_name":e}),o.updateName(e)}else o.updateName(`${r} ${a}`)});o?await g(o):await n.withPropagatedContext(e.headers,()=>n.trace(u.BaseServerSpan.handleRequest,{spanName:`${r} ${a}`,kind:l.SpanKind.SERVER,attributes:{"http.method":r,"http.target":e.url}},g))}catch(e){if(v.isDev)throw e;(0,n.sendError)(t,500,"Internal Server Error")}finally{null==r.waitUntil||r.waitUntil.call(r,Promise.resolve())}}e.s(["config",0,f,"default",0,g,"handler",()=>p]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__24474917._.js.map