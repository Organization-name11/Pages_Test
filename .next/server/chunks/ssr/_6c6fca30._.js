module.exports=[3806,a=>{"use strict";function b(a){return"z"in a&&"f"in a&&"x"in a&&"y"in a}let c={f:0,x:0,y:0,z:0},d=180/Math.PI;function e(a,b=1){let{f:c,x:d,y:f,z:g}=a;if(b<=0)throw Error("steps must be greater than 0");if(b>g)throw Error(`Getting parent tile of ${JSON.stringify(a)}, ${b} steps is not possible because it would go beyond the root tile (z=0)`);return{f:c>>b,x:d>>b,y:f>>b,z:g-b}}function f(a=c){let{f:b,x:d,y:e,z:g}=a;return[{f:2*b,x:2*d,y:2*e,z:g+1},{f:2*b,x:2*d+1,y:2*e,z:g+1},{f:2*b,x:2*d,y:2*e+1,z:g+1},{f:2*b,x:2*d+1,y:2*e+1,z:g+1},{f:2*b+1,x:2*d,y:2*e,z:g+1},{f:2*b+1,x:2*d+1,y:2*e,z:g+1},{f:2*b+1,x:2*d,y:2*e+1,z:g+1},{f:2*b+1,x:2*d+1,y:2*e+1,z:g+1}]}function g(a=c){let{f:b,x:d,y:e,z:f}=a;return[n({f:b,x:d,y:e,z:f}),n({f:b,x:d+1,y:e,z:f}),n({f:b,x:d,y:e+1,z:f}),n({f:b,x:d+1,y:e+1,z:f}),n({f:b,x:d-1,y:e,z:f}),n({f:b,x:d,y:e-1,z:f}),n({f:b,x:d-1,y:e-1,z:f}),n({f:b,x:d+1,y:e-1,z:f}),n({f:b,x:d-1,y:e+1,z:f})]}function h(a){let b=a.match(/^\/?(\d+)\/(?:(\d+)\/)?(\d+)\/(\d+)$/);if(!b)return;let c=b[1]??"",d=b[2]??"0",e=b[3]??"",f=b[4]??"";if(""===c||""===e||""===f)return;let g=parseInt(c,10),h=parseInt(d,10),i=parseInt(e,10),j=parseInt(f,10);if(![g,h,i,j].some(a=>Number.isNaN(a)))return{z:g,f:h,x:i,y:j}}function i(a){let b=Math.PI-2*Math.PI*a.y/Math.pow(2,a.z);return{lng:a.x/Math.pow(2,a.z)*360-180,lat:d*Math.atan(.5*(Math.exp(b)-Math.exp(-b)))}}function j(a){let b;return{...(b=2*a.x+1,i({x:b,y:2*a.y+1,z:a.z+1,f:0})),alt:l(a)+0x2000000/2**(a.z+1)}}function k(a){return[i(a),i({...a,y:a.y+1,x:a.x+1})]}function l(a){return 0x2000000*a.f/2**a.z}function m(a){let b=void 0!==a.alt?a.alt:0;if(b<=-0x2000000||b>=0x2000000)throw Error("ZFXY only supports altitude between -2^25 and +2^25.");let c=Math.floor(2**a.zoom*b/0x2000000),d=Math.PI/180,e=Math.sin(a.lat*d),f=2**a.zoom,g=f*(a.lng/360+.5),h=f*(.5-.25*Math.log((1+e)/(1-e))/Math.PI);return(g%=f)<0&&(g+=f),{f:c,x:Math.floor(g),y:Math.floor(h),z:a.zoom}}function n(a){let{z:b,f:c,x:d,y:e}=a;return{z:b,f:Math.max(Math.min(c,2**b),-(2**b)),x:d<0?d+2**b:d%2**b,y:e<0?e+2**b:e%2**b}}a.s(["calculateZFXY",()=>m,"getBBox",()=>k,"getCenterLngLatAlt",()=>j,"getChildren",()=>f,"getFloor",()=>l,"getParent",()=>e,"getSurrounding",()=>g,"isZFXYTile",()=>b,"parseZFXYString",()=>h,"zfxyWraparound",()=>n])},8622,a=>{"use strict";var b=a.i(3806);function c(a){let c,d=!1;"-"===a[0]&&(d=!0,a=a.substring(1));let e=(0,b.getChildren)();for(let f of a){let g=parseInt(f,10)-1;if(!Number.isFinite(g)||g<0||g>=e.length)throw Error(`Invalid tilehash character '${f}' in '${d?"-":""}${a}'`);let h=e.at(g);if(!h)throw Error(`Invalid tilehash character '${f}' in '${d?"-":""}${a}'`);c=h,e=(0,b.getChildren)(c)}if(!c)throw Error(`Invalid tilehash '${d?"-":""}${a}'`);return d?{...c,f:-c.f}:c}function d(a){let{f:c,x:d,y:e,z:f}=a,g=c,h="";for(;f>0;){let a={f:Math.abs(c),x:d,y:e,z:f},g=(0,b.getParent)(a),i=(0,b.getChildren)(g).findIndex(a=>a.f===Math.abs(c)&&a.x===d&&a.y===e&&a.z===f);if(i<0)throw Error(`Could not determine position in parent for tile ${JSON.stringify(a)}`);h=(i+1).toString()+h,c=g.f,d=g.x,e=g.y,f=g.z}return(g<0?"-":"")+h}a.s(["generateTilehash",()=>d,"parseZFXYTilehash",()=>c])},9832,a=>{"use strict";let b=Math.PI/180;function c(a,b){if("number"!=typeof a||Number.isNaN(a))throw Error(`Expected number for '${b}', got ${String(a)}`);return a}function d(a){return[c(a[0],"bbox[0] (minX)"),c(a[1],"bbox[1] (minY)"),c(a[2],"bbox[2] (maxX)"),c(a[3],"bbox[3] (maxY)")]}function e(a,b){let[c,e,g,h]=d(a),i=f(c,e,32),j=f(g,h,32),k=[i[0],i[1],j[0],j[1]],l=Math.min(function(a){let[b,c,e,f]=d(a);for(let a=0;a<28;a++){let d=1<<32-(a+1);if((b&d)!=(e&d)||(c&d)!=(f&d))return a}return 28}(k),void 0!==b?b:28);return 0===l?[0,0,0]:[k[0]>>>32-l,k[1]>>>32-l,l]}function f(a,c,d){var e,f,g;let h,i,j,k,l=(e=a,f=c,g=d,h=Math.sin(f*b),j=(i=Math.pow(2,g))*(e/360+.5),k=i*(.5-.25*Math.log((1+h)/(1-h))/Math.PI),(j%=i)<0&&(j+=i),[j,k,g]);return l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l}a.s(["bboxToTile",()=>e,"pointToTile",()=>f])},8999,a=>a.a(async(b,c)=>{try{var d=a.i(3806),e=a.i(8622),f=a.i(2295),g=a.i(9373),h=a.i(9832),i=b([f,g]);function j(a,b){if("number"!=typeof a||Number.isNaN(a))throw Error(`Expected number for '${b}', got ${String(a)}`);return a}[f,g]=i.then?(await i)():i;class k{center;alt;zoom;zfxy;id;zfxyStr;tilehash;constructor(a,b){if("string"==typeof a){const b=(0,d.parseZFXYString)(a)||(0,e.parseZFXYTilehash)(a);if(b)this.zfxy=b,this._regenerateAttributesFromZFXY();else throw Error(`parse ZFXY failed with input: ${a}`);return}if((0,d.isZFXYTile)(a)){this.zfxy=a,this._regenerateAttributesFromZFXY();return}this.zfxy=(0,d.calculateZFXY)({...a,zoom:void 0!==b?b:25});this._regenerateAttributesFromZFXY()}up(a=1){return this.move({f:a})}down(a=1){return this.move({f:-a})}north(a=1){return this.move({y:a})}south(a=1){return this.move({y:-a})}east(a=1){return this.move({x:a})}west(a=1){return this.move({x:-a})}move(a){let b=new k(this.zfxy),c=j(b.zfxy.z,"zfxy.z"),e=j(b.zfxy.f,"zfxy.f")+(a.f??0),f=j(b.zfxy.x,"zfxy.x")+(a.x??0),g=j(b.zfxy.y,"zfxy.y")+(a.y??0);return b.zfxy=(0,d.zfxyWraparound)({z:c,f:e,x:f,y:g}),b._regenerateAttributesFromZFXY(),b}parent(a){let b=void 0===a?1:j(this.zfxy.z,"zfxy.z")-j(a,"atZoom");return new k((0,d.getParent)(this.zfxy,b))}children(){return(0,d.getChildren)(this.zfxy).map(a=>new k(a))}surroundings(){let a=(0,d.getSurrounding)(this.zfxy).filter(({z:a,f:b,x:c,y:d})=>`/${a}/${b}/${c}/${d}`!==this.zfxyStr).map(a=>new k(a)),b=(0,d.getSurrounding)(this.up().zfxy).map(a=>new k(a)),c=(0,d.getSurrounding)(this.down().zfxy).map(a=>new k(a));return[...a,...b,...c]}toPolygon(){let a=(0,d.getBBox)(this.zfxy),[b,c,e,f]=function(a){if(Array.isArray(a)&&4===a.length&&a.every(a=>"number"==typeof a))return a;if(Array.isArray(a)&&2===a.length){let b=a[0],c=a[1],d="number"==typeof b?.lng?b.lng:Array.isArray(b)?b[0]:void 0,e="number"==typeof b?.lat?b.lat:Array.isArray(b)?b[1]:void 0,f="number"==typeof c?.lng?c.lng:Array.isArray(c)?c[0]:void 0,g="number"==typeof c?.lat?c.lat:Array.isArray(c)?c[1]:void 0;return[j(d,"bbox.minX"),j(e,"bbox.minY"),j(f,"bbox.maxX"),j(g,"bbox.maxY")]}throw Error("Unsupported BBox format returned by getBBox()")}(a);return{type:"Polygon",coordinates:[[[b,c],[e,c],[e,f],[b,f],[b,c]]]}}intersects(a){let b=this.toPolygon();return(0,g.default)(b,a)}intersectingNeighbors(a){let b=(0,f.default)(a),c=(0,h.bboxToTile)(b),d=j(c[0],"repTile.x"),e=j(c[1],"repTile.y"),g=j(this.zfxy.z,"zfxy.z"),i="number"==typeof c[2]?c[2]:g;return new k({z:i,f:j(this.zfxy.f,"zfxy.f"),x:d,y:e}).surroundings().filter(b=>b.intersects(a))}static fromCenter(a,b=25){let c=j(b,"zoom");return new k(a,c)}static fromPoint(a,b,c,d=25){let e=j(a,"lng"),f=j(b,"lat"),g=j(d,"z"),i=j(c,"f"),l=(0,h.pointToTile)(e,f,g),m=j(l[0],"tile.x"),n=j(l[1],"tile.y");return new k({z:g,f:i,x:m,y:n})}_regenerateAttributesFromZFXY(){if(!this.zfxy)throw Error("zfxy is not set");let a=j(this.zfxy.z,"zfxy.z"),b=j(this.zfxy.f,"zfxy.f"),c=j(this.zfxy.x,"zfxy.x"),f=j(this.zfxy.y,"zfxy.y");this.zoom=a,this.zfxyStr=`/${a}/${b}/${c}/${f}`,this.tilehash=(0,e.generateTilehash)({z:a,f:b,x:c,y:f}),this.id=this.tilehash;let g=(0,d.getCenterLngLatAlt)({z:a,f:b,x:c,y:f});this.center=g,this.alt=j(g.alt,"center.alt")}}a.s(["Space",()=>k]),c()}catch(a){c(a)}},!1),4933,(a,b,c)=>{let d="Pages_Test";b.exports={output:"export",basePath:`/${d}`,assetPrefix:`/${d}/`,images:{unoptimized:!0}}},3715,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(8999),g=b([f]);[f]=g.then?(await g)():g;let i=a.r(4933).basePath||"";function h(){let[a,b]=(0,e.useState)(""),[c,g]=(0,e.useState)(""),[h,j]=(0,e.useState)("25"),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)("");return(0,d.jsxs)("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[(0,d.jsx)("h1",{children:"Spatial ID 計算ツール（クライアント計算）"}),(0,d.jsxs)("form",{onSubmit:b=>{b.preventDefault(),p(""),n(null);try{if(!a||!c)return void p("lat と lon は必須です");let b=parseFloat(a),d=parseFloat(c),e=parseInt(h||"25",10),g=""!==k?parseFloat(k):void 0;if(!Number.isFinite(b)||!Number.isFinite(d))return void p("lat と lon は数値である必要があります");if(!Number.isFinite(e))return void p("zoom は数値である必要があります");if(""!==k&&!Number.isFinite(g))return void p("alt が指定されている場合は数値である必要があります");if(b<-85.0511287798||b>85.0511287798)return void p("lat の範囲は ±85.0511287798");if(d<-180||d>180)return void p("lon の範囲は ±180");if(e<0||e>35)return void p("zoom は 0〜35");let i=new f.Space(void 0===g?{lng:d,lat:b}:{lng:d,lat:b,alt:g},e);n({zfxyStr:i.zfxyStr,tilehash:i.tilehash,zfxy:i.zfxy,zoom:i.zoom,center:i.center,alt:i.alt})}catch(a){console.error("[client calc] error:",a),p("計算エラー: "+(a?.message||String(a)))}},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"緯度(lat): "}),(0,d.jsx)("input",{value:a,onChange:a=>b(a.target.value),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"経度(lon): "}),(0,d.jsx)("input",{value:c,onChange:a=>g(a.target.value),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"ズーム(zoom): "}),(0,d.jsx)("input",{value:h,onChange:a=>j(a.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{children:"高度(alt): "}),(0,d.jsx)("input",{value:k,onChange:a=>l(a.target.value)})]}),(0,d.jsx)("button",{type:"submit",children:"計算"})]}),o&&(0,d.jsx)("p",{style:{color:"red"},children:o}),m&&(0,d.jsxs)("div",{style:{marginTop:"20px"},children:[(0,d.jsx)("h2",{children:"結果"}),(0,d.jsx)("pre",{children:JSON.stringify(m,null,2)})]}),(0,d.jsx)("img",{alt:"logo",src:`${i}/vercel.svg`,width:120,height:36})]})}a.s(["default",()=>h]),c()}catch(a){c(a)}},!1),379,a=>a.a(async(b,c)=>{try{var d=a.i(9168),e=a.i(7068),f=a.i(2759),g=a.i(3590),h=a.i(6555),i=a.i(3715),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_6c6fca30._.js.map